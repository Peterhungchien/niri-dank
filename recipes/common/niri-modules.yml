modules:
  - type: dnf
    repos:
      copr:
        - yalter/niri
    install:
      install-weak-deps: false
      packages:
        - niri
        - xdg-desktop-portal-gnome
        - kitty
        - foot  # Foot terminal with server mode for faster spawning
        - udiskie  # Automount removable media
        # DMS provides lock screen and idle management (swaylock/swayidle removed)

  # Enable user services for Wayland session
  - type: systemd
    user:
      enabled:
        - udiskie.service
        - foot-server.service
